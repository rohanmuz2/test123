{"version":3,"file":"amplify.service.js","sourceRoot":"","sources":["../../../src/providers/amplify.service.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AAeE,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,MAAM,EAAE,MAAM,eAAe,CAAC;AAC7D,OAAO,EAAE,OAAO,EAAE,MAAM,cAAc,CAAC;AAEvC,OAAO,OAAO,EAAE,EAAE,MAAM,EAAE,IAAI,EAAE,MAAM,mBAAmB,CAAC;AAE1D,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;;IAkB/C,wBAGU;;QAAA,YAAO,GAAP,OAAO;0BAPI,IAAI,OAAO,EAAa;gCAC1B,IAAI,CAAC,UAAU,CAAC,YAAY,EAAE;QAQ/C,IAAM,MAAM,GAAG,OAAO,IAAI,OAAO,CAAC;QAElC,aAAa,CAAC,IAAI,CAAC,UAAU,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;QAE5C,IAAI,CAAC,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC;QACzB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,SAAS,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC;QAC/B,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC;QACvB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,CAAC;QAC3B,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,CAAC;QAC7B,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,YAAY,CAAC;QACzC,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,EAAE,CAAC;;QAGrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;QAClB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;KACvB;IAED,6BAAI,GAAJ,cAAc,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;IAClC,kCAAS,GAAT,cAAmB,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;IAC5C,gCAAO,GAAP,cAAiB,OAAO,IAAI,CAAC,QAAQ,CAAC,EAAE;IACxC,4BAAG,GAAH,cAAa,OAAO,IAAI,CAAC,IAAI,CAAC,EAAE;IAChC,qCAAY,GAAZ,cAAsB,OAAO,IAAI,CAAC,aAAa,CAAC,EAAE;IAClD,8BAAK,GAAL,cAAe,OAAO,IAAI,CAAC,MAAM,CAAC,EAAE;IACpC,+BAAM,GAAN,cAAgB,OAAO,IAAI,CAAC,OAAO,CAAC,EAAE;IACtC,+BAAM,GAAN,UAAO,IAAI,EAAE,KAAM,IAAY,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC,EAAE;IACtE,2BAAE,GAAF,cAAY,OAAO,IAAI,CAAC,GAAG,CAAC,EAAE;IAC9B,6BAAI,GAAJ,cAAc,OAAO,IAAI,CAAC,KAAK,CAAC,EAAE;IAElC,kCAAS,GAAT,cAAc,OAAO,IAAI,CAAC,UAAU,CAAC,EAAE;IACvC,qCAAY,GAAZ,UAAa,KAAgB,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;;gBAnDhE,UAAU;;;;gDAiBN,MAAM,SAAC,SAAS,cAChB,QAAQ;;yBAxCf;;SAuBe,cAAc","sourcesContent":["  // tslint:disable\n  /*\n  * Copyright 2017-2018 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n  *\n  * Licensed under the Apache License, Version 2.0 (the \"License\"). You may not use this file except in compliance with\n  * the License. A copy of the License is located at\n  *\n  *     http://aws.amazon.com/apache2.0/\n  *\n  * or in the \"license\" file accompanying this file. This file is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n  * CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions\n  * and limitations under the License.\n  */\n  // tslint:enable\n\n  import { Injectable, Optional, Inject } from '@angular/core';\n  import { Subject } from 'rxjs/Subject';\n  import { Observable } from 'rxjs/Observable';\n  import Amplify, { Logger, I18n } from '@aws-amplify/core';\n  import { AuthState } from './auth.state';\n  import { authDecorator } from './auth.decorator';\n  \n  @Injectable()\n  export class AmplifyService {\n    private _auth: any;\n    private _analytics: any;\n    private _storage: any;\n    private _api: any;\n    private _cache: any;\n    private _pubsub: any;\n    private _interactions: any;\n    private _logger: any;\n    private _xr: any;\n    private _i18n: any;\n    private _authState = new Subject<AuthState>();\n    authStateChange$ = this._authState.asObservable();\n\n\n    constructor (\n      @Inject('modules') \n      @Optional()\n      private modules: any = {}) {\n\n      const source = modules || Amplify;\n\n      authDecorator(this._authState, source.Auth);\n\n      this._auth = source.Auth;\n      this._analytics = source.Analytics;\n      this._storage = source.Storage;\n      this._api = source.API;\n      this._cache = source.Cache;\n      this._pubsub = source.PubSub;\n      this._interactions = source.Interactions;\n      this._xr = source.XR;\n\n      // i18n and logger instantiated by default (do not change)\n      this._i18n = I18n;\n      this._logger = Logger;\n    }\n\n    auth(): any { return this._auth; }\n    analytics(): any { return this._analytics; }\n    storage(): any { return this._storage; }\n    api(): any { return this._api; }\n    interactions(): any { return this._interactions; }\n    cache(): any { return this._cache; }\n    pubsub(): any { return this._pubsub; }\n    logger(name, level?): Logger { return new this._logger(name, level); }\n    xr(): any { return this._xr; }\n    i18n(): any { return this._i18n; }\n\n    authState() { return this._authState; }\n    setAuthState(state: AuthState) { this._authState.next(state); }\n  }\n"]}